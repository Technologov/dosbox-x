<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.21">
<title>Clipboard Support in DOSBox-X</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="./rouge-github.css">
<link rel="stylesheet" href="./docinfo/copy-to-clipboard.css">
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="paragraph">
<p>Back to the <a href="Home">DOSBox-X Wiki Welcome page</a>.</p>
</div>
<div class="sect1">
<h2 id="_clipboard_support_in_dosbox_x">Clipboard Support in DOSBox-X</h2>
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_clipboard_support_in_dosbox_x">Clipboard Support in DOSBox-X</a>
<ul class="sectlevel2">
<li><a href="#_overview">Overview</a></li>
<li><a href="#_select_copy_and_paste_text_using_a_mouse_button">Select, copy and paste text using a mouse button</a></li>
<li><a href="#_select_copy_and_paste_text_using_the_keyboard">Select, copy and paste text using the keyboard</a></li>
<li><a href="#_copy_and_paste_text_using_a_dos_device">Copy and paste text using a DOS device</a></li>
<li><a href="#_copy_and_paste_text_using_a_dos_program">Copy and paste text using a DOS program</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_overview">Overview</h3>
<div class="paragraph">
<p>DOSBox-X has support for copying to and pasting from the host system clipboard in several ways. For example, you can copy to or paste from to the clipboard inside DOSBox-X using the right/middle mouse buttons, arrow keys or mapped keyboard shortcuts, and you can also use a DOS device or DOS program to communicate bidirectionally with the host clipboard. You will find a menu group <code>Shared clipboard functions</code> under the "Main" menu to control the various options for the clipboard feature.</p>
</div>
<div class="paragraph">
<p>Clipboard support for double-byte (DBCS) characters used by Chinese/Japanese/Korean languages is fully supported when using these code pages, although clipboard copying and pasting using mouse buttons or arrow keys is not available for the Linux SDL1 build.</p>
</div>
</div>
<div class="sect2">
<h3 id="_select_copy_and_paste_text_using_a_mouse_button">Select, copy and paste text using a mouse button</h3>
<div class="paragraph">
<p>Note: This functionality is not available on Linux SDL1 builds.</p>
</div>
<div class="paragraph">
<p>You can also use a mouse button to easily select, copy or paste text to or from the clipboard in DOSBox-X when the mouse is not locked. The default mouse button is the right mouse button, but it can be set to the middle mouse button or to disable the feature with the <code>clip_mouse_button</code> config option in the [sdl] section of the DOSBox-X config file. With this feature enabled you can right-drag (or middle-drag) on text in the DOSBox-X window and release the mouse to copy to the clipboard; right-click (or middle-click) in the DOSBox-X window to paste from the clipboard. It works even for double-byte characters when DOSBox-X is running in the PC-98/JEGA mode or a CJK code page. During the text selection you can always left-click (or press the ESC key) to cancel the selection.</p>
</div>
<div class="paragraph">
<p>It is possible to set a keyboard modifier for this feature by editing the <code>clip_key_modifier</code> config option in the [sdl] section of the DOSBox-X config file so that you can use Alt+Right-click, Ctrl+Right-click, Shift+Right-click, etc. to select, copy and paste text instead. The default keyboard modifier for this feature in DOSBox-X is Shift, but you can change it to a different one or setting the <code>clip_key_modifier</code> config option to <code>none</code> if no keyboard modifier is desired. You can also check the option "Quick edit: copy on select and paste text" within the "Shared clipboard functions" menu group to bypass any keyboard modifier that may have been set (same effect as <code>clip_key_modifier=none</code> when this menu item is checked).</p>
</div>
<div class="paragraph">
<p>There is no practical limit on the clipboard size when doing the pasting. But the speed of pasting each character does matter in some cases, even though the default speed works fine for many programs (such as WordPerfect 5.1). Depending on the DOS program you are using, pasting too fast for example can cause lost keystrokes for some programs. Thus, there is a setting named <code>clip_paste_speed</code> in the [sdl] section of DOSBox-X&#8217;s config file which can be used to set the speed for pasting each character from the clipboard. The default setting is 30, but if this setting does cause lost keystrokes in your application, you can increase the number to slow down the pasting. Conversely, you may experiment with decreasing the number for applications that accept keystrokes quickly.</p>
</div>
</div>
<div class="sect2">
<h3 id="_select_copy_and_paste_text_using_the_keyboard">Select, copy and paste text using the keyboard</h3>
<div class="paragraph">
<p>Note: Pasting from the clipboard using a keyboard shortcut is supported in all platforms. Selecting and copying text using the keyboard are supported in all except for the Linux SDL1 build.</p>
</div>
<div class="paragraph">
<p>The keyboard can also be used to select, copy text to and paste text from the clipboard. If you select "Via arrow keys (Home=start, End=end)" in the "Shared clipboard functions" menu group, or if you enable it with the config option <code>clip_mouse_button</code> set to <code>arrows</code>, then you could use the arrow keys (left, right, up, down) to select text to be copied to the host clipboard; press the Home key (or Function+Shift+Left arrow on a Mac laptop) to start the actual selection, and press the End key (or Function+Shift+Right arrow on a Mac laptop) when the text selection is finished, then the selected text will be copied to the clipboard. During this you can press the ESC key to cancel the text selection. These keys are subject to the keyboard modifier as specified by the <code>clip_key_modifier</code> config option, but the keyboard modifier can be bypassed by enabling the "Quick edit: copy on select and paste text" option (also from the "Shared clipboard functions" menu group), similar to the mouse method.</p>
</div>
<div class="paragraph">
<p>In addition to text selection and copy functions, you can also use a keyboard shortcut (Ctrl+F6 by default) to paste text from the clipboard into DOSBox-X, or just click the option "Pasting from the clipboard" within the "Shared clipboard functions" menu group. You can change the keyboard shortcut with DOSBox-X&#8217;s mapper editor if desired. One way to run the mapper editor is to start DOSBox-X.exe with the <code>-startmapper</code> command-line option. You can also select it directly from DOSBox-X&#8217;s drop-down menu (under "Main"). After the mapper editor is launched, click the "Paste Clipboard" function and assign a keyboard shortcut to it. In any case, you can use the saved keyboard shortcut to paste text from the clipboard into DOSBox-X just like pasting it using the right mouse button click.</p>
</div>
<div class="paragraph">
<p>Similar to pasting text using the right mouse button, you can change the speed for pasting each character from the clipboard to DOSBox-X via the <code>clip_paste_speed</code> setting in the [sdl] section of DOSBox-X&#8217;s config file. As mentioned in the previous section the default value (30) works for many programs, but for some programs you may need to change it from the default one. The higher the value of this setting, the slower each character will be pasted from the clipboard. You can also decrease this value if your DOS program accepts keystrokes quickly. Moreover, when you are pasting long clipboard content you can always force it to stop in the middle with the "Stop clipboard pasting" menu option.</p>
</div>
<div class="paragraph">
<p>Note: If you want to paste clipboard text into Windows 3.x/9x applications (e.g. Notepad and Write), please make sure the "Use BIOS function for clipboard pasting" option within the "Shared clipboard functions" menu group is not selected. This option can also be changed via the <code>clip_paste_bios</code> setting in the [sdl] section of DOSBox-X&#8217;s config file.</p>
</div>
</div>
<div class="sect2">
<h3 id="_copy_and_paste_text_using_a_dos_device">Copy and paste text using a DOS device</h3>
<div class="paragraph">
<p>Note: This functionality is limited to read-only access on the Linux SDL1 build.</p>
</div>
<div class="paragraph">
<p>You can use a DOS device (e.g. CLIP$) to easily copy text to and/or paste text from the clipboard in DOSBox-X. To activate this function, please make sure the "Enable DOS clipboard device access: CLIP$" toggle within the "Shared clipboard functions" menu group is checked. Alternatively, you can enable it via the <code>dos clipboard device enable</code> setting in the [dos] section of the DOSBox-X config file (e.g. dosbox-x.conf) by setting it to <code>true</code> or <code>full</code>, then a DOS device (default name: <code>CLIP$</code>) will be added to DOSBox-X to allow bidirectional communications with the clipboard.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">DIR &gt;</span>CLIP<span class="err">$</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Will redirect the directory listing to the clipboard;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">VER &gt;</span><span class="o">&gt;</span>CLIP<span class="err">$</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Will append the version information to the clipboard;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">TYPE CLIP$</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Will display the content of the clipboard;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">EDIT CLIP$</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Will open the editor with the clipboard content;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">SORT &lt;CLIP$</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Will sort the clipboard content using the SORT command.</p>
</div>
<div class="paragraph">
<p>You may also set the <code>dos clipboard device enable</code> config option to either <code>read</code> or <code>write</code> to allow only read or write access for security reasons. The DOS device name can also be changed with the <code>dos clipboard device name</code> config option if you want to use a different device name from CLIP$.</p>
</div>
<div class="paragraph">
<p>This bidirectional clipboard access will be deactivated if the secure mode for DOSBox-X is enabled, and it will also not work if booting into a guest OS.</p>
</div>
</div>
<div class="sect2">
<h3 id="_copy_and_paste_text_using_a_dos_program">Copy and paste text using a DOS program</h3>
<div class="paragraph">
<p>Note: This functionality is limited to text pasting on the Linux SDL1 build.</p>
</div>
<div class="paragraph">
<p>Copying and pasting text to or from the clipboard is also supported via the DOS APIs in DOSBox-X, so DOS programs that can directly access the Windows 3.x/9x clipboard from a DOS window can also be used to copy and paste text to or from the shared clipboard when running in DOSBox-X. This function is disabled by default as of DOSBox-X 2024-07-01, but can be enabled either by checking the option "Enable DOS clipboard API for applications" within the "Shared clipboard functions" menu group, or by setting the config option <code>dos clipboard api</code> to <code>true</code> in the [dos] section of the config file.</p>
</div>
<div class="paragraph">
<p>When DOS clipboard APIs are activated, the <a href="https://www.horstmuc.de/div.htm#wclip">WCLIP</a> tool by Horst Schaeffer for example can be used to access the shared clipboard inside DOSBox-X. Below are some examples of using this program to communicate with the clipboard:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">DIR | WCLIP</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Will redirect the directory listing to the clipboard;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">WCLIP /A &lt; TEST.TXT</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Will append the TEST.TXT file content to the clipboard;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="go">WCLIP RECEIVE</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Will display the content of the clipboard.</p>
</div>
<div class="paragraph">
<p>There are other similar DOS programs that will work in DOSBox-X, such as <a href="http://ansis.lv/dosclip/index.en.php">DOSClip 3.2</a>, a TSR program to select, copy or paste text to or from the clipboard.</p>
</div>
<div class="paragraph">
<p>Like copying and pasting text using a DOS device, this bidirectional clipboard access will be deactivated if the secure mode for DOSBox-X is enabled, and it will also not work if booting into a guest OS.</p>
</div>
</div>
</div>
</div>
</div>
<script src="./docinfo/copy-to-clipboard.js"></script>
</body>
</html>